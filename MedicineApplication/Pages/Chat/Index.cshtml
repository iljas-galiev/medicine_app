@page
@using Microsoft.AspNetCore.Http
@model MedicineApplication.Pages.Chat.Index

@{
    Layout = Layout;
}

<form action="" method="post" class="chat-form">
    @Html.AntiForgeryToken()
    <div class="form-group">
        <label for="message">Your message</label>
        <textarea name="message" id="message" class="form-control" cols="30" rows="10"></textarea>
    </div>
    <div class="form-group">
        <input type="hidden" name="user" id="user" value="@HttpContext.Session.GetString("user_salt")">
        <input type="submit" class="send btn btn-success">
    </div>
</form>

<div class="message-list">
    @{
        foreach (var message in Model.Messages)
        {
            <div class="message-entity">
                <div class="message-header">
                    <span class="message-user">
                        @message.userName
                    </span>
                    <span class="message-datetime">
                        @message.dateTime
                    </span>
                </div>
                <div class="message-text">
                    @message.text
                </div>
            </div>
        }
    }
</div>
